{"ast":null,"code":"// actions/cartActions.js\nexport const addToCart = (id, qty) => async (dispatch, getState) => {\n  const {\n    data\n  } = await axios.get(`/api/products/${id}`);\n  const itemInCart = getState().cart.cartItems.find(x => x.product === id);\n  const quantity = itemInCart ? itemInCart.qty + qty : qty;\n  dispatch({\n    type: CART_ADD_ITEM,\n    payload: {\n      product: data._id,\n      name: data.name,\n      image: data.image,\n      price: data.price,\n      countInStock: data.countInStock,\n      qty: quantity <= data.countInStock ? quantity : data.countInStock\n    }\n  });\n  localStorage.setItem('cartItems', JSON.stringify(getState().cart.cartItems));\n};","map":{"version":3,"names":["addToCart","id","qty","dispatch","getState","data","axios","get","itemInCart","cart","cartItems","find","x","product","quantity","type","CART_ADD_ITEM","payload","_id","name","image","price","countInStock","localStorage","setItem","JSON","stringify"],"sources":["/Users/risun/Desktop/podian/frontend/src/actions/cartAction.js"],"sourcesContent":["// actions/cartActions.js\nexport const addToCart = (id, qty) => async (dispatch, getState) => {\n    const { data } = await axios.get(`/api/products/${id}`);\n    \n    const itemInCart = getState().cart.cartItems.find((x) => x.product === id);\n    const quantity = itemInCart ? itemInCart.qty + qty : qty;\n    \n    dispatch({\n      type: CART_ADD_ITEM,\n      payload: {\n        product: data._id,\n        name: data.name,\n        image: data.image,\n        price: data.price,\n        countInStock: data.countInStock,\n        qty: quantity <= data.countInStock ? quantity : data.countInStock,\n      }\n    });\n  \n    localStorage.setItem('cartItems', JSON.stringify(getState().cart.cartItems));\n  };\n  "],"mappings":"AAAA;AACA,OAAO,MAAMA,SAAS,GAAGA,CAACC,EAAE,EAAEC,GAAG,KAAK,OAAOC,QAAQ,EAAEC,QAAQ,KAAK;EAChE,MAAM;IAAEC;EAAK,CAAC,GAAG,MAAMC,KAAK,CAACC,GAAG,CAAE,iBAAgBN,EAAG,EAAC,CAAC;EAEvD,MAAMO,UAAU,GAAGJ,QAAQ,CAAC,CAAC,CAACK,IAAI,CAACC,SAAS,CAACC,IAAI,CAAEC,CAAC,IAAKA,CAAC,CAACC,OAAO,KAAKZ,EAAE,CAAC;EAC1E,MAAMa,QAAQ,GAAGN,UAAU,GAAGA,UAAU,CAACN,GAAG,GAAGA,GAAG,GAAGA,GAAG;EAExDC,QAAQ,CAAC;IACPY,IAAI,EAAEC,aAAa;IACnBC,OAAO,EAAE;MACPJ,OAAO,EAAER,IAAI,CAACa,GAAG;MACjBC,IAAI,EAAEd,IAAI,CAACc,IAAI;MACfC,KAAK,EAAEf,IAAI,CAACe,KAAK;MACjBC,KAAK,EAAEhB,IAAI,CAACgB,KAAK;MACjBC,YAAY,EAAEjB,IAAI,CAACiB,YAAY;MAC/BpB,GAAG,EAAEY,QAAQ,IAAIT,IAAI,CAACiB,YAAY,GAAGR,QAAQ,GAAGT,IAAI,CAACiB;IACvD;EACF,CAAC,CAAC;EAEFC,YAAY,CAACC,OAAO,CAAC,WAAW,EAAEC,IAAI,CAACC,SAAS,CAACtB,QAAQ,CAAC,CAAC,CAACK,IAAI,CAACC,SAAS,CAAC,CAAC;AAC9E,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}